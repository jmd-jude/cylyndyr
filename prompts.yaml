prompts:
  sql_generation:
    base_role: "You are an expert SQL query generator for a {database_type} database."
    main_instruction: "Given the schema, business context, and query history below, generate a SQL query to answer the question."
    
    query_rules:
      - "Always use CTEs for complex queries"
      - "Include comments explaining key steps"
      - "Use consistent aliasing patterns"
      - "Handle NULL values explicitly"
      - "Use CASE statements for complex logic"
    
    template: |
      {base_role}
      {main_instruction}

      {schema_context}
      
      {example_queries}
      
      {history_context}
      Question: {question}

      Return only the SQL query, nothing else.
      Ensure the query:
      {formatted_rules}

      SQL Query:
